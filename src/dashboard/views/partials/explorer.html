<div>
  <div
    id="site-toolbar"
    class="flex items-center gap-2 px-2 py-2 border-b border-gray-400 dark:border-gray-700 text-sm"
  >
    <div class="flex gap-3 items-center">
      <a href="#" target="_blank">ğŸŒ</a>
<div
  id="commits-count"
  hx-get="/sites/{{uuid}}/commits-count"
  hx-trigger="load, commitsChanged from:body"
  hx-swap="innerHTML"
hx-on::after-swap="
    const window = this.closest('.window');
    const previewBtn = window?.querySelector('#preview-btn');
    const goLiveBtn = window?.querySelector('#go-live-btn');
    const hasCommits = !this.textContent.includes('No');
    
    if (previewBtn) {
      if (hasCommits) {
        previewBtn.classList.remove('hidden');
      } else {
        previewBtn.classList.add('hidden');
      }
    }
    
    if (goLiveBtn) {
      if (hasCommits) {
        goLiveBtn.classList.remove('hidden');
      } else {
        goLiveBtn.classList.add('hidden');
      }
    }
  "
  hx-on:click="
    const tab = this.closest('.window')?.querySelector('[data-tab=history]');
    if (tab) tab.click();
  "
  class="text-sm opacity-80 hover:opacity-100 cursor-pointer"
>
  <span class="commit-label">â€¦</span>
</div>
    </div>

    <div class="flex items-center gap-4 ml-auto">
      <div
        id="live-indicator"
        class="hidden items-center gap-2 font-semibold"
      >
        <span class="inline-block size-2 rounded-full bg-green-500"></span>
        LIVE
      </div>

      <button
        id="preview-btn"
        class="btn-secondary hidden"
        type="button"
      >
        ğŸ‘€ Preview
      </button>

      <button
  id="go-live-btn"
  class="btn-primary hidden"
  type="button"

  hx-post="/sites/{{uuid}}/go-live"
  hx-confirm="This will make all your changes go live. Are you ready?"
  hx-swap="none"
>
  ğŸš€ Go Live
</button>

    </div>
  </div>

  <div
    id="explorer-mount-{{uuid}}"
    data-site-uuid="{{uuid}}"
    hx-boost="false"
    class="file-explorer text-black h-101 w-full relative"
  ></div>
</div>
