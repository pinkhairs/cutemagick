<div>
  <div
  id="site-toolbar"
  class="flex items-center gap-2 px-2 py-2 border-b border-gray-400 dark:border-gray-700 text-sm"
  >
  <div class="flex flex-1 gap-3 justify-between items-center">
    
      <div class="flex-1 flex items-center gap-3">
    
    <a
    href="/preview/{{directory}}"
    class="btn-secondary"
    target="_blank"
    >
    <span 
    id="preview-btn" class="hidden">ğŸ‘€ Preview
  
        <span    id="commits-count"
    hx-get="/sites/{{uuid}}/commits-count"
    hx-trigger="load, commitsChanged from:body"
    hx-swap="innerHTML"
    hx-on::after-swap="
    const window = this.closest('.window');
    const previewBtn = window?.querySelector('#preview-btn');
    const goLiveBtn = window?.querySelector('#go-live-btn');
    const syncBtn = window?.querySelector('#sync-btn');
    const hasCommits = this.textContent.trim() !== 'â€¦' && this.textContent.trim() !== '';
    
    if (previewBtn) {
      if (hasCommits) {
        previewBtn.classList.remove('hidden');
      } else {
        previewBtn.classList.add('hidden');
      }
    }
    
    if (goLiveBtn) {
      if (hasCommits) {
        goLiveBtn.classList.remove('hidden');
      } else {
        goLiveBtn.classList.add('hidden');
      }
    }
    if (syncBtn) {
      if (hasCommits) {
        syncBtn.classList.remove('hidden');
      } else {
        syncBtn.classList.add('hidden');
      }
    }
    "></span>
    </span>
  </a>

  <button
  class="btn-primary"
  type="button"

  hx-post="/sites/{{uuid}}/go-live"
  hx-confirm="This will make all your changes go live. Are you ready?"
  hx-swap="none"
  >
  <span  id="go-live-btn" class="hidden">ğŸš€ Go Live</span>
  </button>
</div>

    <div class="flex-1 justify-end flex gap-3">
      <a href="#" target="_blank">ğŸŒ Live</a>
<button
  id="sync-button"
  class="items-center gap-1.5 text-sm
         text-gray-700 dark:text-gray-300 hidden"
  hx-get="/sites/{{uuid}}/sync-status"
  hx-trigger="load, commitsChanged from:body"
  hx-swap="innerHTML"
  hx-on::after-swap="
    const hasContent = this.innerHTML.trim() !== '';
    this.classList.toggle('hidden', !hasContent);
  "
>
</button>


      </div>

</div>
</div>

<div
id="explorer-mount-{{uuid}}"
data-site-uuid="{{uuid}}"
hx-boost="false"
class="file-explorer text-black h-101 w-full relative"
></div>
</div>
